"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const fs_extra_1 = tslib_1.__importDefault(require("fs-extra"));
const path_1 = tslib_1.__importDefault(require("path"));
const getHooks_1 = tslib_1.__importDefault(require("./getHooks"));
const CWD = process.cwd();
const saveHTMLToFiles = (pages) => Promise
    .all(pages.map(async (page) => {
    const hooks = await getHooks_1.default();
    return fs_extra_1.default.outputFile(path_1.default.normalize(`${CWD}/${page.path}`), page.html)
        .then(() => { var _a, _b, _c; return (_c = (_a = hooks) === null || _a === void 0 ? void 0 : (_b = _a).afterEachPageGenerated) === null || _c === void 0 ? void 0 : _c.call(_b, page); });
}));
exports.default = saveHTMLToFiles;
